<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ativo Real Workspace</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@latest/ol.css" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="page">
      <header class="topbar">
        <div class="brand">
          <div class="brand-mark">AR</div>
          <div class="brand-text">
            <div class="brand-title">Ativo Real</div>
            <div class="brand-subtitle">Workspace do Topografo</div>
          </div>
        </div>
        <div class="top-actions">
          <button class="btn ghost">Nova vistoria</button>
          <button class="btn">Criar projeto</button>
        </div>
      </header>

      <div class="layout">
        <aside class="sidebar">
          <div class="sidebar-section">
            <div class="sidebar-title">Modulos</div>
            <nav class="nav">
              <button class="nav-item active">
                <span class="icon">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 5h16v14H4z" fill="none" stroke="currentColor" stroke-width="2" />
                    <path d="M6 9l4-2 4 3 4-2" fill="none" stroke="currentColor" stroke-width="2" />
                  </svg>
                </span>
                Geografico
              </button>
              <button class="nav-item">
                <span class="icon">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M6 4h12v16H6z" fill="none" stroke="currentColor" stroke-width="2" />
                    <path d="M8 8h8M8 12h8M8 16h6" fill="none" stroke="currentColor" stroke-width="2" />
                  </svg>
                </span>
                Gestao
              </button>
              <button class="nav-item">
                <span class="icon">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 7h16v10H4z" fill="none" stroke="currentColor" stroke-width="2" />
                    <path d="M8 11h8" fill="none" stroke="currentColor" stroke-width="2" />
                  </svg>
                </span>
                Financeiro
              </button>
              <button class="nav-item">
                <span class="icon">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M5 5h14v14H5z" fill="none" stroke="currentColor" stroke-width="2" />
                    <path d="M8 8h8v8H8z" fill="none" stroke="currentColor" stroke-width="2" />
                  </svg>
                </span>
                Pecas Tecnicas
              </button>
            </nav>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title">Projetos recentes</div>
            <div class="list" id="project-list">
              <div class="list-item">
                <div class="list-title">Sem dados ainda</div>
                <div class="list-meta">Conecte ao backend</div>
              </div>
            </div>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title">Projeto</div>
            <form class="project-form" id="project-form">
              <label class="field">
                <span>Titulo</span>
                <input type="text" name="title" placeholder="Ex: Sitio Boa Vista" required />
              </label>
              <label class="field">
                <span>Status</span>
                <select name="status">
                  <option value="draft">Rascunho</option>
                  <option value="in_progress">Em andamento</option>
                  <option value="done">Concluido</option>
                </select>
              </label>
              <label class="field">
                <span>Descricao</span>
                <textarea name="description" rows="3" placeholder="Resumo do servico"></textarea>
              </label>
              <div class="project-actions">
                <button type="button" class="btn soft" id="new-project">Novo</button>
                <button type="submit" class="btn" id="save-project">Salvar</button>
                <button type="button" class="btn outline" id="delete-project">Excluir</button>
              </div>
              <div class="project-status" id="project-status">Aguardando</div>
            </form>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title">Acesso</div>
            <form class="auth-card" id="auth-form">
              <label class="field">
                <span>Usuario</span>
                <input type="text" name="username" placeholder="topografo" required />
              </label>
              <label class="field">
                <span>Senha</span>
                <input type="password" name="password" placeholder="********" required />
              </label>
              <button type="submit" class="btn">Entrar</button>
              <button type="button" class="btn ghost" id="logout-btn">Sair</button>
              <div class="auth-status" id="auth-status">Nao autenticado</div>
            </form>
          </div>
          <div class="sidebar-section">
            <div class="sidebar-title">Atalhos</div>
            <div class="chip-grid">
              <span class="chip">Novo poligono</span>
              <span class="chip">Importar KML</span>
              <span class="chip">Gerar memorial</span>
              <span class="chip">Emitir ART</span>
            </div>
          </div>
        </aside>

        <main class="main">
          <section class="map-shell">
            <div class="map-header">
              <div>
                <div class="section-title">Modulo Geografico</div>
                <div class="section-subtitle">Desenhe o perimetro e acompanhe area e perimetro em tempo real.</div>
                <div class="section-meta">Projeto atual: <span id="active-project">Nenhum</span></div>
              </div>
              <div class="map-actions">
                <button class="btn soft" data-basemap="osm">Base urbana</button>
                <button class="btn soft" data-basemap="sat">Satelite</button>
                <button class="btn outline" id="clear-map">Limpar</button>
              </div>
            </div>
            <div class="map-toolbar">
              <label class="field">
                <span>Nome do perimetro</span>
                <input type="text" id="parcel-name" placeholder="Perimetro principal" />
              </label>
              <button class="btn" id="save-parcel">Salvar poligono</button>
              <button class="btn soft" id="update-parcel-name">Atualizar nome</button>
              <button class="btn soft" id="update-parcel-geom">Atualizar geometria</button>
              <div class="map-status" id="map-status">Pronto</div>
            </div>
            <div id="map" class="map"></div>
          </section>

          <section class="panels">
            <div class="panel">
              <div class="panel-title">Dashboard</div>
              <div class="panel-row">
                <div>
                  <div class="label">Projetos</div>
                  <div class="value" id="dash-projects">0</div>
                </div>
                <div>
                  <div class="label">Documentos</div>
                  <div class="value" id="dash-docs">0</div>
                </div>
              </div>
              <div class="panel-row">
                <div>
                  <div class="label">Recebido</div>
                  <div class="value" id="dash-payments">R$ 0</div>
                </div>
                <div>
                  <div class="label">Despesas</div>
                  <div class="value" id="dash-expenses">R$ 0</div>
                </div>
              </div>
            </div>
            <div class="panel">
              <div class="panel-title">Resumo do Projeto</div>
              <div class="panel-row">
                <div>
                  <div class="label">Status</div>
                  <div class="value">Em andamento</div>
                </div>
                <div>
                  <div class="label">Equipe</div>
                  <div class="value">Topografo + Assistente</div>
                </div>
              </div>
              <div class="panel-row">
                <div>
                  <div class="label">Area atual</div>
                  <div class="value" id="area-value">0 m2</div>
                </div>
                <div>
                  <div class="label">Perimetro</div>
                  <div class="value" id="perimeter-value">0 m</div>
                </div>
              </div>
            </div>

            <div class="panel">
              <div class="panel-title">Financeiro</div>
              <div class="panel-row">
                <div>
                  <div class="label">Orcamento</div>
                  <div class="value">R$ 48.000</div>
                </div>
                <div>
                  <div class="label">Recebido</div>
                  <div class="value">R$ 18.000</div>
                </div>
              </div>
              <div class="panel-row">
                <div>
                  <div class="label">Despesas</div>
                  <div class="value">R$ 6.500</div>
                </div>
                <div>
                  <div class="label">Saldo</div>
                  <div class="value">R$ 23.500</div>
                </div>
              </div>
            </div>

            <div class="panel">
              <div class="panel-title">Perimetros</div>
              <div class="parcel-list" id="parcel-list">
                <div class="doc-item">
                  <div>Nenhum perimetro</div>
                  <span class="doc-status">---</span>
                </div>
              </div>
            </div>

            <div class="panel panel-wide">
              <div class="panel-title">Pecas Tecnicas</div>
              <form class="doc-form" id="doc-form">
                <label class="field">
                  <span>Tipo</span>
                  <select name="doc_type">
                    <option value="art">ART</option>
                    <option value="memorial">Memorial</option>
                    <option value="car">CAR</option>
                    <option value="sigef">SIGEF</option>
                  </select>
                </label>
                <label class="field">
                  <span>Arquivo</span>
                  <input type="file" name="file" />
                </label>
                <label class="field">
                  <span>Observacoes</span>
                  <textarea name="notes" rows="2" placeholder="Detalhes do documento"></textarea>
                </label>
                <button type="submit" class="btn">Enviar</button>
                <div class="doc-status-line" id="doc-status-line">Aguardando</div>
              </form>
              <div class="doc-list" id="doc-list">
                <div class="doc-item">
                  <div>Nenhum documento</div>
                  <span class="doc-status">---</span>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ol@latest/ol.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
