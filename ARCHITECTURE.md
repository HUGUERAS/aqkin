# ğŸ“Š Arquitetura de Deploy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DEPLOYMENT PIPELINE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer    â”‚
â”‚  git push     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GITHUB ACTIONS                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   CI.yml    â”‚  â”‚  deploy-     â”‚  â”‚   deploy-       â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  backend.yml â”‚  â”‚   frontend.yml  â”‚ â”‚
â”‚  â”‚ â€¢ Lint      â”‚  â”‚              â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚ â€¢ Test      â”‚  â”‚ â€¢ Build      â”‚  â”‚ â€¢ Build         â”‚ â”‚
â”‚  â”‚ â€¢ Build     â”‚  â”‚ â€¢ Deploy     â”‚  â”‚ â€¢ Deploy        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                   â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                   â”‚
                            â–¼                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  AZURE FUNCTIONS      â”‚   â”‚   VERCEL     â”‚
            â”‚                       â”‚   â”‚              â”‚
            â”‚  â€¢ Python 3.11        â”‚   â”‚  â€¢ React     â”‚
            â”‚  â€¢ FastAPI            â”‚   â”‚  â€¢ Vite      â”‚
            â”‚  â€¢ PostGIS            â”‚   â”‚  â€¢ CDN       â”‚
            â”‚                       â”‚   â”‚              â”‚
            â”‚  URL:                 â”‚   â”‚  URL:        â”‚
            â”‚  ativo-real-api-593   â”‚   â”‚  your-app    â”‚
            â”‚  .azurewebsites.net   â”‚   â”‚  .vercel.app â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚     SUPABASE          â”‚
            â”‚                       â”‚
            â”‚  â€¢ PostgreSQL         â”‚
            â”‚  â€¢ PostGIS Extension  â”‚
            â”‚  â€¢ Row Level Security â”‚
            â”‚  â€¢ Real-time          â”‚
            â”‚                       â”‚
            â”‚  URL:                 â”‚
            â”‚  xntxtdximacsdnldouxa â”‚
            â”‚  .supabase.co         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REQUIRED SECRETS                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  BACKEND (8):                    FRONTEND (4):              â”‚
â”‚  â€¢ AZURE_FUNCTION_APP_NAME       â€¢ VERCEL_TOKEN             â”‚
â”‚  â€¢ AZURE_RESOURCE_GROUP          â€¢ VERCEL_ORG_ID            â”‚
â”‚  â€¢ AZURE_PUBLISH_PROFILE         â€¢ VERCEL_PROJECT_ID        â”‚
â”‚  â€¢ DATABASE_URL                  â€¢ VITE_AZURE_BACKEND_URL   â”‚
â”‚  â€¢ JWT_SECRET                                               â”‚
â”‚  â€¢ SUPABASE_URL                                             â”‚
â”‚  â€¢ SUPABASE_SERVICE_KEY                                     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPLOYMENT FLOW                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Developer pushes to main branch                         â”‚
â”‚     â†“                                                        â”‚
â”‚  2. GitHub Actions triggers workflows                       â”‚
â”‚     â†“                                                        â”‚
â”‚  3. CI workflow runs (lint, test, build)                    â”‚
â”‚     â†“                                                        â”‚
â”‚  4a. Backend workflow:                 4b. Frontend:        â”‚
â”‚      â€¢ Builds Python app                   â€¢ Builds React   â”‚
â”‚      â€¢ Creates Azure package               â€¢ Deploys Vercel â”‚
â”‚      â€¢ Deploys to Azure Functions                           â”‚
â”‚      â€¢ Configures environment vars                          â”‚
â”‚     â†“                                      â†“                â”‚
â”‚  5. Applications are live!                                  â”‚
â”‚     â€¢ Backend: ativo-real-api-593.azurewebsites.net        â”‚
â”‚     â€¢ Frontend: your-app.vercel.app                         â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MANUAL DEPLOYMENT                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Alternative 1: RAILWAY                                     â”‚
â”‚  $ railway login                                            â”‚
â”‚  $ cd apps/api                                              â”‚
â”‚  $ railway up                                               â”‚
â”‚                                                              â”‚
â”‚  Alternative 2: RENDER                                      â”‚
â”‚  â€¢ Connect GitHub repo at render.com                        â”‚
â”‚  â€¢ Configure build/start commands                           â”‚
â”‚  â€¢ Deploy automatically on push                             â”‚
â”‚                                                              â”‚
â”‚  Alternative 3: AZURE CLI                                   â”‚
â”‚  $ cd apps/api                                              â”‚
â”‚  $ func azure functionapp publish ativo-real-api-593        â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TECH STACK                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Frontend:                        Backend:                  â”‚
â”‚  â€¢ React 19                       â€¢ Python 3.11             â”‚
â”‚  â€¢ TypeScript                     â€¢ FastAPI                 â”‚
â”‚  â€¢ Vite                           â€¢ SQLAlchemy              â”‚
â”‚  â€¢ OpenLayers (maps)              â€¢ GeoAlchemy2             â”‚
â”‚  â€¢ Axios                          â€¢ Shapely                 â”‚
â”‚                                   â€¢ python-jose (JWT)       â”‚
â”‚  Database:                                                  â”‚
â”‚  â€¢ PostgreSQL 15                  Hosting:                  â”‚
â”‚  â€¢ PostGIS 3.x                    â€¢ Azure Functions         â”‚
â”‚  â€¢ Supabase                       â€¢ Vercel                  â”‚
â”‚                                   â€¢ Supabase                â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATUS & NEXT STEPS                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âœ… COMPLETED:                                              â”‚
â”‚  â€¢ CI/CD workflows configured                               â”‚
â”‚  â€¢ Documentation created                                    â”‚
â”‚  â€¢ Application code ready                                   â”‚
â”‚  â€¢ .gitignore updated                                       â”‚
â”‚                                                              â”‚
â”‚  âš ï¸ TODO (User Actions):                                    â”‚
â”‚  1. Configure Azure resources                               â”‚
â”‚  2. Setup Supabase database                                 â”‚
â”‚  3. Link Vercel project                                     â”‚
â”‚  4. Add 12 GitHub Secrets                                   â”‚
â”‚  5. Push to main to trigger deployment                      â”‚
â”‚  6. Verify deployments                                      â”‚
â”‚                                                              â”‚
â”‚  ğŸ“– Read: FALTA_PARA_DEPLOY.md for detailed steps          â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š Documentation Index

| Document | Purpose | When to Use |
|----------|---------|-------------|
| **FALTA_PARA_DEPLOY.md** | Complete answer to "what's missing for deployment" (Portuguese) | Start here |
| **DEPLOYMENT_CONFIG.md** | Detailed step-by-step configuration guide | When setting up for first time |
| **DEPLOYMENT_QUICKSTART.md** | Quick reference guide | When you need a fast lookup |
| **DEPLOYMENT_CHECKLIST.md** | Interactive progress tracker | Throughout deployment process |
| **.github/SECRETS_TEMPLATE.md** | GitHub Secrets template | When adding secrets to GitHub |
| **STATUS_DEPLOY.md** | Current deployment status (may be outdated) | Check current state |
| **DEPLOY_GUIDE.md** | Alternative deployment methods | If not using Azure |
| **DEPLOY_BACKEND.md** | Backend-specific deployment info | Backend deployment issues |

## ğŸ¯ Quick Links

- **GitHub Secrets**: Settings â†’ Secrets and variables â†’ Actions
- **Azure Portal**: https://portal.azure.com
- **Supabase Dashboard**: https://supabase.com/dashboard
- **Vercel Dashboard**: https://vercel.com/dashboard
- **GitHub Actions**: https://github.com/HUGUERAS/aqkin/actions

## ğŸš€ One Command Deploy

```bash
# After configuring all secrets in GitHub:
git push origin main
```

That's it! GitHub Actions handles everything else.
